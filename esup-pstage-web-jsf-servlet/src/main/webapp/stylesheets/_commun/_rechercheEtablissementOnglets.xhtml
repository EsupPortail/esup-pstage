<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:t="http://myfaces.apache.org/tomahawk">

    <t:div rendered="#{not empty rechercheController.ongletCourant and rechercheController.ongletCourant le 1}">
        <h:outputText escape="false"
                      value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET1.NUMEROSIRET']}" />

        <t:div styleClass="mt5">
            <p:inputText id="rechNumeroSiret" size="20" maxlength="14"
                         value="#{rechercheController.rechNumeroSiret}"/>
            <p:commandButton action="#{rechercheController.rechercheEtabSiret}"
                             value="#{msgs['RECHERCHEETABLISSEMENT.RECHERCHER']}"
                             styleClass="ml5" />
        </t:div>

        <t:div style="height:20px;"/>

        <h:outputText escape="false"
                      value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET1.NUMEROSIREN']}" />
        <t:div styleClass="mt5">
            <p:inputText id="rechNumeroSiren" size="20" maxlength="9"
                         value="#{rechercheController.rechNumeroSiren}"/>
            <p:commandButton action="#{rechercheController.rechercheEtabSiren}"
                             value="#{msgs['RECHERCHEETABLISSEMENT.RECHERCHER']}"
                             styleClass="ml5"/>
        </t:div>
    </t:div>
    <t:div rendered="#{empty rechercheController.ongletCourant or rechercheController.ongletCourant==2}">
        <h:outputText
                value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET2.RAISONSOCIALE']}"
                escape="false" />

        <h:panelGrid styleClass="ml40">
            <h:panelGrid columns="2">
                <h:outputLabel for="rechRaisonSociale"
                               value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET6.RAISONSOCIALE']}" />

                <p:autoComplete id="rechRaisonSociale"
                                value="#{rechercheController.rechRaisonSociale}" size="50"
                                maxlength="100" mode="cachedAjax" tokens=", " minChars="2"
                                autofill="false"
                                autocompleteMethod="#{rechercheController.getRaisonsSociales}"
                                converter="#{sansAccentEnMAJConverter}" inputClass="ac"
                                style="text-transform:uppercase; font-size : 10px"
                                attached="false" />
            </h:panelGrid>

            <p:outputPanel id="rechPaysDep">
                <h:panelGrid columns="2">
                    <h:outputLabel
                            value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET7.PAYS']}"
                            for="rechPays2" />
                    <h:selectOneMenu id="rechPays2"
                                     value="#{rechercheController.rechPays}"
                                     converter="#{paysConverter}"
                                     valueChangeListener="#{rechercheController.valuePaysChanged}">
                        <f:selectItem itemValue="" />
                        <f:selectItems value="#{nomenclatureController.pays}" />
                        <p:ajax event="valueChange" update="DepFrance" />
                    </h:selectOneMenu>
                </h:panelGrid>
            </p:outputPanel>

            <t:htmlTag value="div" style="width:20px;" />

            <p:outputPanel id="DepFrance">
                <h:panelGrid rendered="#{rechercheController.france}">
                    <h:outputLabel for="rechDepartement2"
                                   value="#{msgs['RECHERCHEETABLISSEMENT.DEPARTEMENT']}" />
                    <h:inputText id="rechDepartement2" size="2" maxlength="2"
                                 value="#{rechercheController.rechDepartement}"
                                 converter="#{sansAccentEnMAJConverter}" escape="false" />
                </h:panelGrid>
            </p:outputPanel>

            <h:commandButton
                    style="font-size:14px; border:solid 1px; margin-left:100px;"
                    action="#{rechercheController.rechercheRaisonSociale}"
                    value="#{msgs['RECHERCHEETABLISSEMENT.RECHERCHER']}" />
        </h:panelGrid>
    </t:div>
    <t:div
            rendered="#{not empty rechercheController.ongletCourant
	and rechercheController.ongletCourant==3}">
        <h:outputText
                value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET3.ACTIVITE']}"
                escape="false" />
        <h:panelGrid columns="2">
            <h:outputLabel for="rechTypeStructure"
                           value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET3.TYPESTRUCTURE']}" />
            <h:selectOneMenu id="rechTypeStructure"
                             value="#{rechercheController.rechTypeEtablissement}"
                             converter="#{typeStructureConverter}">
                <f:selectItems value="#{nomenclatureController.typesStructure}" />
            </h:selectOneMenu>
            <h:outputLabel for="rechNafN1"
                           value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET3.SECTEURACTIVITE']}" />
            <h:selectOneMenu id="rechNafN1"
                             value="#{rechercheController.rechNafN1}"
                             converter="#{nafN1Converter}" style="width:200px">
                <f:selectItems value="#{nomenclatureController.nafN1}" />
            </h:selectOneMenu>
            <h:outputLabel for="rechDepartement3"
                           value="#{msgs['RECHERCHEETABLISSEMENT.DEPARTEMENT']}" />
            <h:inputText id="rechDepartement3" size="2" maxlength="2"
                         value="#{rechercheController.rechDepartement}"
                         converter="#{sansAccentEnMAJConverter}" />
        </h:panelGrid>
        <h:commandButton action="#{rechercheController.rechercheActivite}"
                         value="#{msgs['RECHERCHEETABLISSEMENT.RECHERCHER']}"
                         style="font-size:14px; border:solid 1px;" />

    </t:div>
    <t:div
            rendered="#{not empty rechercheController.ongletCourant
	and rechercheController.ongletCourant==4}">
        <h:outputText
                value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET4.TELFAX']}"
                escape="false" />

        <h:panelGrid columns="3">
            <h:outputLabel for="rechTelephone"
                           value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET4.TEL']}" />
            <h:inputText id="rechTelephone" size="20" maxlength="20"
                         value="#{rechercheController.rechTelephone}">
            </h:inputText>
            <h:commandButton action="#{rechercheController.rechercheTel}"
                             value="#{msgs['RECHERCHEETABLISSEMENT.RECHERCHER']}"
                             style="font-size:14px; border:solid 1px;" />
        </h:panelGrid>


        <h:panelGrid columns="3">
            <h:outputLabel for="rechFax"
                           value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET4.FAX']}" />
            <h:inputText id="rechFax" size="20" maxlength="20"
                         value="#{rechercheController.rechFax}">
            </h:inputText>
            <h:commandButton action="#{rechercheController.rechercheFax}"
                             value="#{msgs['RECHERCHEETABLISSEMENT.RECHERCHER']}"
                             style="font-size:14px; border:solid 1px;" />
        </h:panelGrid>
    </t:div>
    <t:div
            rendered="#{not empty rechercheController.ongletCourant
	and rechercheController.ongletCourant==7}">
        <h:outputText
                value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET7.ADRESSE']}"
                escape="false" />
        <h:panelGrid columns="2">
            <h:panelGrid columns="2">
                <h:outputLabel for="rechVoie"
                               value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET7.VOIE']}" />
                <h:inputText id="rechVoie" size="30" maxlength="200"
                             value="#{rechercheController.critereRechercheStructureAdresse.rechVoie}">
                </h:inputText>
                <h:outputLabel for="rechBatRes"
                               value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET7.BATRES']}" />
                <h:inputText id="rechBatRes" size="30" maxlength="200"
                             value="#{rechercheController.critereRechercheStructureAdresse.rechBatimentResidence}">
                </h:inputText>
                <h:outputLabel for="rechVille"
                               value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET7.VILLE']}" />
                <h:inputText id="rechVille" size="20" maxlength="20"
                             value="#{rechercheController.critereRechercheStructureAdresse.rechVille}">
                </h:inputText>
            </h:panelGrid>
            <h:panelGrid columns="2">
                <h:outputLabel for="rechDeps"
                               value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET7.DEP']}" />
                <h:inputText id="rechDeps" size="20" maxlength="20"
                             value="#{rechercheController.critereRechercheStructureAdresse.codePostal}">
                </h:inputText>
                <h:outputLabel for="rechPays"
                               value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET7.PAYS']}" />
                <h:selectOneMenu id="rechPays"
                                 value="#{rechercheController.critereRechercheStructureAdresse.rechPays}"
                                 converter="#{paysConverter}">
                    <f:selectItem itemValue="" />
                    <f:selectItems value="#{nomenclatureController.pays}" />
                </h:selectOneMenu>
            </h:panelGrid>
        </h:panelGrid>
        <h:commandButton action="#{rechercheController.rechercheAdresse}"
                         value="#{msgs['RECHERCHEETABLISSEMENT.RECHERCHER']}"
                         style="font-size:14px; border:solid 1px;" />
    </t:div>
    <t:div
            rendered="#{not empty rechercheController.ongletCourant
	and rechercheController.ongletCourant==5}">
        <h:outputText
                value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET5.SERVICE']}"
                escape="false" />
        <h:panelGrid columns="2">
            <h:outputLabel for="rechNomService"
                           value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET5.NOMSERVICE']}" />
            <h:inputText id="rechNomService" size="30" maxlength="200"
                         value="#{rechercheController.rechNomService}"
                         style="text-transform:uppercase;"
                         converter="#{sansAccentEnMAJConverter}" />
            <h:outputLabel for="rechDepartement"
                           value="#{msgs['RECHERCHEETABLISSEMENT.DEPARTEMENT']}" />
            <h:inputText id="rechDepartement" size="2" maxlength="2"
                         value="#{rechercheController.rechDepartement}"
                         converter="#{sansAccentEnMAJConverter}" />
        </h:panelGrid>
        <h:commandButton action="#{rechercheController.rechercheService}"
                         value="#{msgs['RECHERCHEETABLISSEMENT.RECHERCHER']}"
                         style="font-size:14px; border:solid 1px;" />
    </t:div>

    <t:div
            rendered="#{not empty rechercheController.ongletCourant
					and rechercheController.ongletCourant==6}">
        <h:panelGrid>
            <h:form id="formRechEtab6">
                <t:panelGrid columns="2">
                    <h:outputLabel for="rechRaisonSocialeAccord"
                                   value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET6.RAISONSOCIALE']}" />
                    <h:panelGrid columns="2">
                        <h:graphicImage id="infoRs"
                                        alt="#{msgs['INFOSBULLES.RAISON_SOCIALE']}"
                                        value="../../media/images/information.png">
                            <p:tooltip value="#{msgs['INFOSBULLES.RAISON_SOCIALE']}" />
                        </h:graphicImage>
                        <p:autoComplete id="rechRaisonSocialeAccord"
                                        value="#{rechercheController.rechRaisonSociale}" size="50"
                                        maxlength="100" mode="cachedAjax" tokens=", " minChars="2"
                                        autofill="false"
                                        autocompleteMethod="#{rechercheController.getRaisonsSociales}"
                                        converter="#{sansAccentEnMAJConverter}" inputClass="ac"
                                        styleClass="ac" popupClass="acPopup"
                                        style="text-transform:uppercase; font-size : 10px"
                                        attached="false" />
                    </h:panelGrid>
                    <h:outputLabel for="rechTypeAccord"
                                   value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET6.ACCORD']}" />
                    <h:selectOneRadio id="rechTypeAccord"
                                      value="#{rechercheController.rechTypeAccord}"
                                      converter="#{intConverter}">
                        <f:selectItems value="#{rechercheController.listTypeAccord}" />
                    </h:selectOneRadio>
                    <t:panelGroup colspan="2">
                        <h:panelGrid columns="2" style="font-size:11px;">
                            <h:graphicImage
                                    alt="#{msgs['RECHERCHEETABLISSEMENT.ONGLET6.SANSACCORD.AIDE']}"
                                    title="#{msgs['RECHERCHEETABLISSEMENT.ONGLET6.SANSACCORD.AIDE']}"
                                    value="../../media/images/information.png" />
                            <h:outputText
                                    value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET6.SANSACCORD.AIDE']}" />
                        </h:panelGrid>
                    </t:panelGroup>
                    <t:panelGroup colspan="2">
                        <h:panelGrid columns="4">
                            <h:outputLabel for="rechDateDebut"
                                           value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET6.DATEDEBUT']}" />
                            <p:calendar id="rechDateDebut"
                                        value="#{rechercheController.dateDebut}"
                                        locale="#{sessionController.locale}"
                                        datePattern="#{rechercheController.datePattern}"
                                        showApplyButton="false" cellWidth="24px" cellHeight="22px"
                                        style="width:200px" />
                            <h:outputLabel for="rechDateFin"
                                           value="#{msgs['RECHERCHEETABLISSEMENT.ONGLET6.DATEFIN']}" />
                            <p:calendar id="rechDateFin"
                                        value="#{rechercheController.dateFin}"
                                        locale="#{sessionController.locale}"
                                        datePattern="#{rechercheController.datePattern}"
                                        showApplyButton="false" cellWidth="24px" cellHeight="22px"
                                        style="width:200px" />
                        </h:panelGrid>
                        <p:message for="rechDateDebut">
                            <ui:include src="../_commun/_messageErrorMarker.xhtml" />
                        </p:message>
                    </t:panelGroup>
                </t:panelGrid>
                <h:commandButton action="#{rechercheController.rechercheAccord}"
                                 value="#{msgs['RECHERCHEETABLISSEMENT.RECHERCHER']}" />
            </h:form>
        </h:panelGrid>
    </t:div>
</ui:composition>

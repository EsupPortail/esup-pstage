<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:t="http://myfaces.apache.org/tomahawk">

	<h:outputText value="#{msgs['OFFRE.ERREUR.AUCUNETABSELECT']}"
		rendered="#{empty offreController.formOffre.structure}" />
	<t:div
		rendered="#{not empty offreController.formOffre.structure}">
		<ui:include src="/stylesheets/_commun/_champsObligatoires.xhtml" />
		<h:panelGrid columns="3"
			rendered="#{offreController.formOffre.idOffre>0}"
			style="float:right;">
			<h:outputLabel value="#{msgs['OFFRE']} " for="idOffre" />
			<h:outputLabel value=" #{msgs['OFFRE.ID']}" for="idOffre" />
			<h:outputText id="idOffre"
				value="#{offreController.formOffre.idOffre}" />
		</h:panelGrid>
		<h:outputLabel value="#{msgs['OFFRE.TYPEOFFRE']} *" for="typeOffre" />
		<h:panelGrid columns="2">
			<h:selectOneMenu id="typeOffre"
				value="#{offreController.formOffre.typeOffre}"
				converter="#{typeOffreConverter}" required="true"
				requiredMessage="#{requiredMessageController.champObligatoire}">
				<f:selectItem itemValue="" />
				<f:selectItems value="#{nomenclatureController.typesOffre}" />
				<p:ajax event="valueChange" />
			</h:selectOneMenu>
			<p:message for="typeOffre" />
		</h:panelGrid>
		<h:outputLabel value="#{msgs['OFFRE.AVECFICHIEROULIEN']}"
			for="avecFichierOuLien"
			rendered="#{!(sessionController.adminPageAuthorized || (welcomeController.superAdmin and !sessionController.adminPageAuthorized) 
			|| welcomeController.admin || welcomeController.writer)}" />
		<h:outputLabel value="#{msgs['OFFRE.AVECFICHIEROULIEN.ADMIN']}"
			for="avecFichierOuLien"
			rendered="#{sessionController.adminPageAuthorized || (welcomeController.superAdmin and !sessionController.adminPageAuthorized) 
			|| welcomeController.admin || welcomeController.writer}" />
		<h:selectOneRadio id="avecFichierOuLien"
			value="#{offreController.avecFichierOuLien}">
			<f:selectItem itemValue="#{true}" itemLabel="#{msgs['FORM.OUI']}" />
			<f:selectItem itemValue="#{false}" itemLabel="#{msgs['FORM.NON']}" />
			<p:ajax event="click" update="opAvecFichierOuLien" />
		</h:selectOneRadio>
		<p:outputPanel id="opAvecFichierOuLien">
			<h:outputLabel value="#{msgs['OFFRE.AVECFICHIEROULIEN.PRECISER']} *"
				rendered="#{offreController.avecFichierOuLien}" for="fichierOuLien" />
			<h:panelGrid>
				<h:selectOneRadio id="fichierOuLien"
					value="#{offreController.fichierOuLien}"
					rendered="#{offreController.avecFichierOuLien}" required="true"
					requiredMessage="#{requiredMessageController.champObligatoire}">
					<f:selectItem itemValue="1" itemLabel="#{msgs['OFFRE.UNFICHIER']}" />
					<f:selectItem itemValue="2" itemLabel="#{msgs['OFFRE.UNLIEN']}" />
					<p:ajax event="click" />
				</h:selectOneRadio>
				<p:message for="fichierOuLien" />
			</h:panelGrid>
		</p:outputPanel>
	</t:div>
</ui:fragment>
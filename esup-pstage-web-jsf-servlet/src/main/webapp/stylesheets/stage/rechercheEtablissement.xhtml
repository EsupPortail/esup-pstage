<%@include file="../_include.jsp"%>
<e:page stringsVar="msgs" locale="#{sessionController.locale}">
	<jsp:include page="/stylesheets/_header.jsp" />
	<t:div>
		<t:div styleClass="app-pagebar">
			<h:form id="navigationHeader" styleClass="app-form">
				<%@include file="/stylesheets/_navigation.jsp"%>
			</h:form>
		</t:div>
		<t:div id="body" styleClass="app-body fl-col-flex2">
			<t:div id="navigation" styleClass="app-navigation fl-col-flex13">
				<!--  la navigation -->
				<%@include file="_menuDynamiqueStage.jsp"%>
			</t:div>
			<t:div id="content" styleClass="app-content fl-col-flex85">
				<!-- contenu de la page -->
				<rich:panel>
					<f:facet name="header">
						<e:text value="#{msgs['RECHERCHEETABLISSEMENT.TITRE']}" />
					</f:facet>
					<h:form>
						<%@include
							file="../_commun/_rechercheEtablissementLiensOnglets.jsp"%>
					</h:form>
					<%@include file="../_commun/_rechercheEtablissementOnglets.jsp"%>
					<h:form id="formResultatsRechEtab">
						<e:panelGrid columns="1">
							<rich:message for="formResultatsRechEtab">
								<rich:spacer height="20px" />
								<%@include file="../_commun/_messageErrorMarker.jsp"%>
							</rich:message>
							<rich:spacer height="10px" />
							<t:div
								rendered="#{welcomeController.superAdmin || welcomeController.admin || welcomeController.writer}">
								<%@include file="../_commun/_buttonCreationEtablissement.jsp"%>
							</t:div>
							<rich:spacer height="10px" />
						</e:panelGrid>
						<a4j:outputPanel id="opRechercheStructureDataTable">
							<t:div
								rendered="#{not empty rechercheController.listeResultatsRechercheStructure
					and not empty rechercheController.rechercheStructurePaginator}">
								<%@include
									file="../_commun/_rechercheEtablissementNbResultats.jsp"%>
								<rich:dataTable id="rechercheStructureDataTable"
									var="varRechercheStructure"
									rendered="#{not empty rechercheController.rechercheStructurePaginator.visibleItems}"
									value="#{rechercheController.rechercheStructurePaginator.visibleItems}"
									border="0" cellspacing="2" cellpadding="2" width="600"
									onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
									onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
									<f:facet name="header">
										<rich:columnGroup>
											<%@include
												file="../_commun/_rechercheEtablissementResultatsHeaders.jsp"%>
										</rich:columnGroup>
									</f:facet>
									<f:facet name="footer">
										<h:panelGroup>
											<%@include
												file="../_commun/_rechercheEtablissementResultatsPaginator.jsp"%>
										</h:panelGroup>
									</f:facet>
									<%@include
										file="../_commun/_rechercheEtablissementResultatsColumns.jsp"%>
									<%@include
										file="../_commun/_rechercheEtablissementResultatsColumnsButtons.jsp"%>
								</rich:dataTable>
							</t:div>
						</a4j:outputPanel>
					</h:form>
				</rich:panel>
				<%@include file="../_commun/_panelSupprStructure.jsp"%>
			</t:div>
		</t:div>
		<t:div styleClass="fl-container-flex">
			<h:form id="navigationFooter" styleClass="app-form">
				<%@include file="/stylesheets/_navigation.jsp"%>
			</h:form>
		</t:div>
		<%@include file="/stylesheets/_script_navigations.jsp"%>
		<script type="text/javascript">
		hideButton("welcomeManagerForm:localeChangeButton");
	</script>
	</t:div>
</e:page>





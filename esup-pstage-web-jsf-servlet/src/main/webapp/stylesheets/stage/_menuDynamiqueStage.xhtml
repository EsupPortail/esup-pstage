<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:t="http://myfaces.apache.org/tomahawk">

	<h:form id="menuDynamiqueStage" styleClass="app-form">
		<t:htmlTag value="ul">
			<t:htmlTag value="li"
				rendered="#{sessionController.utilisationStage and (welcomeController.personnel || welcomeController.superAdmin)}">
				<h:commandLink action="menuIE">
					<h:outputText value="#{msgs['MENUSTAGE.GESTIONCENTRE']}"
						styleClass="menuTitre" />
				</h:commandLink>
				<t:htmlTag value="ul">
					<t:htmlTag value="li">
						<h:commandLink action="#{centreController.goToListeCentre}">
							<h:graphicImage alt="#{msgs['MENUSTAGE.LISTECENTRE']}"
								title="#{msgs['MENUSTAGE.LISTECENTRE']}"
								value="/media/images/list.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.LISTECENTRE']}" />
						</h:commandLink>
					</t:htmlTag>
				</t:htmlTag>
			</t:htmlTag>
			<t:htmlTag value="li"
				rendered="#{sessionController.utilisationStage and (welcomeController.personnel || welcomeController.superAdmin || welcomeController.enseignant)}">
				<h:commandLink action="menuIE">
					<h:outputText value="#{msgs['MENUSTAGE.GESTIONCONVENTION']}"
						styleClass="menuTitre" />
				</h:commandLink>
				<t:htmlTag value="ul">
					<t:htmlTag value="li">
						<h:commandLink
							action="#{conventionController.goToRechercheConvention}"
							rendered="#{welcomeController.personnel || welcomeController.superAdmin }">
							<h:graphicImage alt="#{msgs['MENUSTAGE.RECHCONVENTION']}"
								title="#{msgs['MENUSTAGE.RECHCONVENTION']}"
								value="/media/images/zoom.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.RECHCONVENTION']}" />
						</h:commandLink>
					</t:htmlTag>

					<t:htmlTag value="li">
						<h:commandLink
							action="#{conventionController.goToCreerConvention}"
							rendered="#{welcomeController.superAdmin || welcomeController.writer || welcomeController.admin}">
							<h:graphicImage alt="#{msgs['MENUSTAGE.CREERCONVENTION']}"
								title="#{msgs['MENUSTAGE.CREERCONVENTION']}"
								value="/media/images/new.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.CREERCONVENTION']}" />
						</h:commandLink>
					</t:htmlTag>
					<t:htmlTag value="li">
						<h:commandLink action="#{conventionController.goToValiderEnMasse}"
							rendered="#{welcomeController.superAdmin || welcomeController.writer || welcomeController.admin}">
							<h:graphicImage alt="#{msgs['MENUSTAGE.VALIDERENMASSE']}"
								title="#{msgs['MENUSTAGE.VALIDERENMASSE']}"
								value="/media/images/tick.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.VALIDERENMASSE']}" />
						</h:commandLink>
					</t:htmlTag>
					<t:htmlTag value="li"
						rendered="#{welcomeController.enseignantTuteur}">
						<h:commandLink
							action="#{conventionController.goToRechercheConventionEnseignantTuteur}">
							<h:graphicImage
								alt="#{msgs['MENUSTAGE.RECHCONVENTION.ENSEIGNANTTUTEUR']}"
								title="#{msgs['MENUSTAGE.RECHCONVENTION.ENSEIGNANTTUTEUR']}"
								value="/media/images/list.png" style="border:0" />
							<h:outputText
								value=" #{msgs['MENUSTAGE.RECHCONVENTION.ENSEIGNANTTUTEUR']}" />
						</h:commandLink>
					</t:htmlTag>
				</t:htmlTag>
			</t:htmlTag>
			<t:htmlTag value="li"
				rendered="#{sessionController.utilisationStage and welcomeController.etudiant}">
				<h:commandLink action="menuIE">
					<h:outputText value="#{msgs['MENUSTAGE.GESTIONCONVENTION']}"
						styleClass="menuTitre" />
				</h:commandLink>
				<t:htmlTag value="ul">
					<t:htmlTag value="li">
						<h:commandLink
							action="#{conventionController.goToRechercheConventionEtu}">
							<h:graphicImage alt="#{msgs['MENUSTAGE.RECHCONVENTION.ETU']}"
								title="#{msgs['MENUSTAGE.RECHCONVENTION.ETU']}"
								value="/media/images/list.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.RECHCONVENTION.ETU']}" />
						</h:commandLink>
					</t:htmlTag>

					<t:htmlTag value="li">
						<h:commandLink
							action="#{conventionController.goToCreerConvention}"
							rendered="#{welcomeController.creationConventionAutorisee}">
							<h:graphicImage alt="#{msgs['MENUSTAGE.CREERCONVENTION']}"
								title="#{msgs['MENUSTAGE.CREERCONVENTION']}"
								value="/media/images/new.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.CREERCONVENTION']}" />
						</h:commandLink>
					</t:htmlTag>
				</t:htmlTag>
			</t:htmlTag>
			<t:htmlTag value="li">
				<h:commandLink action="menuIE">
					<h:outputText value="#{msgs['MENUSTAGE.GESTIONETAB']}"
						styleClass="menuTitre" />
				</h:commandLink>
				<t:htmlTag value="ul">
					<t:htmlTag value="li">
						<h:commandLink
							action="#{rechercheController.goToRechercheEtablissementStage}">
							<h:graphicImage alt="#{msgs['MENUSTAGE.RECHETAB']}"
								title="#{msgs['MENUSTAGE.RECHETAB']}"
								value="/media/images/zoom.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.RECHETAB']}" />
							<f:setPropertyActionListener value="#{2}"
								target="#{rechercheController.ongletCourant}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{sessionController.currentManageStructure}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{etablissementController.listeServices}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{etablissementController.listeContacts}" />
						</h:commandLink>
					</t:htmlTag>
					<t:htmlTag value="li"
						rendered="#{sessionController.moderationStructures and (welcomeController.superAdmin || welcomeController.writer || welcomeController.admin)}">
						<h:commandLink
							action="#{rechercheController.goToEtablissementsAVerifier}">
							<h:graphicImage alt="#{msgs['MENUSTAGE.RECHETAB.AVERIFIER']}"
								title="#{msgs['MENUSTAGE.RECHETAB.AVERIFIER']}"
								value="/media/images/zoom.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.RECHETAB.AVERIFIER']}" />
							<f:setPropertyActionListener value="#{2}"
								target="#{rechercheController.ongletCourant}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{sessionController.currentManageStructure}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{etablissementController.listeServices}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{etablissementController.listeContacts}" />
						</h:commandLink>
					</t:htmlTag>
				</t:htmlTag>
			</t:htmlTag>
			<t:htmlTag value="li"
				rendered="#{sessionController.utilisationEntreprise and (welcomeController.personnel || welcomeController.superAdmin || welcomeController.enseignant)}">
				<h:commandLink action="menuIE">
					<h:outputText value="#{msgs['MENUSTAGE.GESTIONOFFRE']}"
						styleClass="menuTitre" />
				</h:commandLink>
				<t:htmlTag value="ul">
					<t:htmlTag value="li">
						<h:commandLink action="#{offreController.goToRechercheOffreStage}">
							<h:graphicImage alt="#{msgs['MENUSTAGE.RECHOFFRE']}"
								title="#{msgs['MENUSTAGE.RECHOFFRE']}"
								value="/media/images/zoom.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.RECHOFFRE']}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{sessionController.currentManageStructure}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{etablissementController.listeServices}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{etablissementController.listeContacts}" />
						</h:commandLink>
					</t:htmlTag>
					<t:htmlTag value="li"
						rendered="#{welcomeController.superAdmin || welcomeController.writer || welcomeController.admin}">
						<h:commandLink
							action="#{offreController.goToCreationOffreSelectionCentre}">
							<h:graphicImage alt="#{msgs['MENUSTAGE.AJOUTOFFRE']}"
								title="#{msgs['MENUSTAGE.AJOUTOFFRE']}"
								value="/media/images/new.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.AJOUTOFFRE']}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{sessionController.currentManageStructure}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{etablissementController.listeServices}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{etablissementController.listeContacts}" />
							<f:setPropertyActionListener value="#{3}"
								target="#{offreController.typeAjoutModifOffre}" />
							<f:setPropertyActionListener value="#{2}"
								target="#{rechercheController.ongletCourant}" />
						</h:commandLink>
					</t:htmlTag>
					<t:htmlTag value="li"
						rendered="#{sessionController.moderationActive and (welcomeController.superAdmin || welcomeController.admin || welcomeController.writer)}">
						<h:commandLink action="#{offreController.goToOffreADiffuser}">
							<h:graphicImage alt="#{msgs['MENU.OFFRESADIFFUSER']})"
								title="#{msgs['MENU.OFFRESADIFFUSER']})"
								value="/media/images/tick.png" style="border:0" />
							<h:outputText
								value=" #{msgs['MENU.OFFRESADIFFUSER']} (#{offreController.offreADiffuser})" />
						</h:commandLink>
					</t:htmlTag>
				</t:htmlTag>
			</t:htmlTag>
			<t:htmlTag value="li"
				rendered="#{sessionController.utilisationEntreprise and welcomeController.etudiant}">
				<h:commandLink action="menuIE">
					<h:outputText value="#{msgs['MENUSTAGE.GESTIONOFFRE']}"
						styleClass="menuTitre" />
				</h:commandLink>
				<t:htmlTag value="ul">
					<t:htmlTag value="li">
						<h:commandLink action="#{offreController.goToRechercheOffreStage}">
							<h:graphicImage alt="#{msgs['MENUSTAGE.RECHOFFRE']}"
								title="#{msgs['MENUSTAGE.RECHOFFRE']}"
								value="/media/images/zoom.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.RECHOFFRE']}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{sessionController.currentManageStructure}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{etablissementController.listeServices}" />
							<f:setPropertyActionListener value="#{null}"
								target="#{etablissementController.listeContacts}" />
						</h:commandLink>
					</t:htmlTag>
				</t:htmlTag>
			</t:htmlTag>

			<!-- Menu evaluation -->
			<t:htmlTag value="li"
				rendered="#{sessionController.utilisationStage}">
				<h:commandLink action="menuIE">
					<h:outputText value="#{msgs['MENUSTAGE.EVALUATION']}"
						styleClass="menuTitre" />
				</h:commandLink>
				<!-- affichage etudiant -->
				<t:htmlTag value="ul">
					<t:htmlTag value="li"
						rendered="#{welcomeController.superAdmin || not empty sessionController.droitsEvaluationMap}">
						<h:commandLink
							action="#{conventionController.goToRechercheEval}">
							<h:graphicImage alt="#{msgs['RECHERCHEEVALUATION.TITRE']}"
								title="#{msgs['RECHERCHEEVALUATION.TITRE']}"
								value="/media/images/zoom.png" style="border:0" />
							<h:outputText value=" #{msgs['RECHERCHEEVALUATION.TITRE']}" />
						</h:commandLink>
					</t:htmlTag>
					<t:htmlTag value="li"
						rendered="#{welcomeController.enseignantTuteur}">
						<h:commandLink
							action="#{conventionController.goToRechercheEvalEns}">
							<h:graphicImage alt="#{msgs['MENUSTAGE.EVALUATION.VISUALISER']}"
								title="#{msgs['MENUSTAGE.EVALUATION.VISUALISER']}"
								value="/media/images/list.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.EVALUATION.VISUALISER']}" />
						</h:commandLink>
					</t:htmlTag>
					<t:htmlTag value="li"
						rendered="#{welcomeController.etudiant}">
						<h:commandLink
							action="#{conventionController.goToRechercheEvalEtu}">
							<h:graphicImage alt="#{msgs['MENUSTAGE.EVALUATION.VISUALISER']}"
								title="#{msgs['MENUSTAGE.EVALUATION.GESTEVAL']}"
								value="/media/images/list.png" style="border:0" />
							<h:outputText value=" #{msgs['MENUSTAGE.EVALUATION.VISUALISER']}" />
						</h:commandLink>
					</t:htmlTag>
				</t:htmlTag>
			</t:htmlTag>
			<t:htmlTag value="li" rendered="#{welcomeController.superAdmin}">
				<h:commandLink action="menuIE">
					<h:outputText value="#{msgs['MENU.GESTIONNOMENCLATURES']}"
						styleClass="menuTitre" />
				</h:commandLink>
				<t:htmlTag value="ul">
					<t:htmlTag value="li">
						<h:commandLink
							action="#{nomenclatureController.goToGestionNomenclatures}"
							rendered="#{welcomeController.superAdmin}">
							<h:graphicImage
								alt="#{msgs['MENU.GESTIONNOMENCLATURES.GESTION']})"
								title="#{msgs['MENU.GESTIONNOMENCLATURES']})"
								value="../../media/images/list.png" style="border:0" />
							<h:outputText
								value=" #{msgs['MENU.GESTIONNOMENCLATURES.GESTION']}" />
						</h:commandLink>
					</t:htmlTag>
				</t:htmlTag>
			</t:htmlTag>
		</t:htmlTag>
	</h:form>
</ui:composition>

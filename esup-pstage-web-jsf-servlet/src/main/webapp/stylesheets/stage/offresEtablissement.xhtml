<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:p="http://primefaces.org/ui"
	template="/stylesheets/_definedStageTemplate.xhtml">
	<ui:define name="content">
		<p:panel>
			<f:facet name="header">
				<h:outputText value="#{msgs['OFFRE.GESTION']}" />
			</f:facet>
			<ui:include src="_menuGestionEtab.xhtml" />
			<h:form>
				<h:outputText
					value="#{msgs['RECHERCHEETABLISSEMENT.ERREURSELECTION']}"
					rendered="#{empty sessionController.currentManageStructure}" />
				<h:panelGrid align="center"
					rendered="#{not empty sessionController.currentManageStructure}">
					<h:outputText value="#{msgs['OFFRE.GESTION.AUCUNE']}"
						rendered="#{empty offreController.listeOffres}" escape="false" />
					<p:outputPanel id="opOffresDataTable">
						<t:div rendered="#{not empty offreController.listeOffres}">
							<h:outputText value="#{msgs['OFFRE.GESTION.SELECTIONNEROFFRE']} "
								escape="false" />
							<p:dataTable value="#{offreController.listeOffres}" var="offre"
								rowKey="rowOffre" rows="15" rowHover="true"
								rowStyleClass="nopointer" paginator="true"
								paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								rowsPerPageTemplate="5,10,15,20"
								rendered="#{welcomeController.superAdmin || welcomeController.admin || welcomeController.writer}">
								<ui:include
									src="../_commun/_rechercheOffreResultatsColumns.xhtml" />
								<p:column>
									<h:commandLink id="recap"
										action="#{offreController.goToRecapitulatifOffreFromOffreLightAvecCentre}">
										<h:graphicImage alt="#{msgs['OFFRE.GESTION.DETAILS']}"
											value="../../media/images/document.png" />
										<f:setPropertyActionListener value="#{offre}"
											target="#{offreController.currentOffre}" />
										<p:tooltip value="#{msgs['OFFRE.GESTION.DETAILS']}" />
									</h:commandLink>
								</p:column>
							</p:dataTable>
							<p:dataTable value="#{offreController.listeOffres}" var="offre"
								rowKey="rowOffre" rows="15" rowHover="true"
								rowStyleClass="nopointer" paginator="true"
								paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								rowsPerPageTemplate="5,10,15,20"
								rendered="#{!(welcomeController.superAdmin || welcomeController.admin || welcomeController.writer)}">
								<ui:include
									src="../_commun/_rechercheOffreResultatsEtudiantColumns.xhtml" />
								<p:column>
									<h:commandLink id="recap"
										action="#{offreController.goToRecapitulatifOffreFromOffreLightAvecCentre}">
										<h:graphicImage alt="#{msgs['OFFRE.GESTION.DETAILS']}"
											value="../../media/images/document.png" />
										<f:setPropertyActionListener value="#{offre}"
											target="#{offreController.currentOffre}" />
										<p:tooltip value="#{msgs['OFFRE.GESTION.DETAILS']}" />
									</h:commandLink>
								</p:column>
							</p:dataTable>
						</t:div>
					</p:outputPanel>
				</h:panelGrid>
				<t:htmlTag value="br" />
				<t:htmlTag value="div" style="height: 20px;" />
				<h:commandButton value="#{msgs['RECHERCHEETABLISSEMENT.RETOUR']}"
					action="#{rechercheController.goToRechercheEtablissementStage}"
					alt="#{msgs['RECHERCHEETABLISSEMENT.RETOUR']}"
					title="#{msgs['RECHERCHEETABLISSEMENT.RETOUR']}">
				</h:commandButton>
			</h:form>
			<ui:include src="../_commun/_panelSupprOffre.xhtml" />
		</p:panel>
	</ui:define>
</ui:composition>
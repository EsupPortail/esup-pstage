<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:t="http://myfaces.apache.org/tomahawk">

	<h:panelGrid columns="1"
		style="width:800px;position:relative;margin-left:auto;margin-right:auto;">
		<rich:panel>
			<f:facet name="header">
				<h:outputText value="#{msgs['CONVENTION.ETAPE1.CHOIXETUDIANT']}" />
			</f:facet>
			<t:htmlTag value="div" style="height: 20px;" />
			<h:outputText
				value="#{msgs['CONVENTION.ETAPE1.CHOIXETUDIANT.DEMANDE']}" />

			<t:htmlTag value="br" />

			<rich:dataTable align="center" width="483" id="choixEtape" rows="10"
				columnClasses="col"
				value="#{conventionController.listeResultatsRechercheEtudiant}"
				var="etudiantRef">
				<f:facet name="header">
					<rich:columnGroup>

						<rich:column>
							<h:outputText styleClass="headerText"
								value="#{msgs['CONVENTION.NUMETUDIANT']}" />
						</rich:column>
						<rich:column>
							<h:outputText styleClass="headerText"
								value="#{msgs['CONVENTION.NOM']}" />
						</rich:column>
						<rich:column>
							<h:outputText styleClass="headerText"
								value="#{msgs['CONVENTION.PRENOM']}" />
						</rich:column>
						<rich:column>
							<h:outputText styleClass="headerText"
								value="#{msgs['CONVENTION.VOTREETAPE']}" />
						</rich:column>
						<rich:column>
							<h:outputText styleClass="headerText"
								value="#{msgs['CONVENTION.VOTREUFR']}" />
						</rich:column>
						<rich:column>
							<h:outputText styleClass="headerText"
								value="#{msgs['FORM.VOIR']}" />
						</rich:column>
					</rich:columnGroup>
				</f:facet>

				<rich:column>
					<h:outputText value="#{etudiantRef.numEtudiant}" />
					<t:htmlTag value="div" style="height: 5px;" />
				</rich:column>
				<rich:column>
					<h:outputText value="#{etudiantRef.nom}  #{etudiantRef.nomMarital}" />
					<t:htmlTag value="div" style="height: 5px;" />
				</rich:column>
				<rich:column>
					<h:outputText value="#{etudiantRef.prenom}" />
					<t:htmlTag value="div" style="height: 5px;" />
				</rich:column>
				<rich:column>
					<rich:dataList var="key" value="#{etudiantRef.stepsKey }">
						<rich:column>
							<h:outputText value="#{key} : #{etudiantRef.steps[key]}  " />
						</rich:column>
					</rich:dataList>
				</rich:column>
				<rich:column>
					<rich:dataList var="keyU" value="#{etudiantRef.studysKey }">
						<rich:column>
							<h:outputText value="#{keyU} : #{etudiantRef.studys[keyU]}  " />
						</rich:column>
					</rich:dataList>
				</rich:column>

				<rich:column>
					<a4j:commandLink id="voir"
						action="#{conventionController.recupInfosEtudiantRef}">
						<f:setPropertyActionListener value="#{etudiantRef}"
							target="#{conventionController.resultatEtudiantRef}" />
						<h:graphicImage alt="#{msgs['FORM.VOIR']}"
							value="../../media/images/zoom.png" style="border:0" />
					</a4j:commandLink>
					<rich:tooltip for="voir" value="#{msgs['FORM.VOIR']}" />
				</rich:column>

				<f:facet name="footer">
					<rich:datascroller align="center" for="choixEtape" maxPages="20"
						page="1" id="listeScroller" renderIfSinglePage="false" />
				</f:facet>
			</rich:dataTable>

			<h:panelGrid columns="1">

				<a4j:commandButton
					action="#{conventionController.goToCreerConventionRechEtu}"
					value="#{msgs['CONVENTION.RECHERCHER.AUTREETU']}" immediate="true">
				</a4j:commandButton>

			</h:panelGrid>

		</rich:panel>
	</h:panelGrid>
</ui:fragment>



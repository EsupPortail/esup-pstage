<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:t="http://myfaces.apache.org/tomahawk">

	<p:panel
		style="width:800px;position:relative;margin-left:auto;margin-right:auto;">
		<f:facet name="header">
			<h:outputText value="#{msgs['CONVENTION.ETAPE8.RECAP']}" />
		</f:facet>

		<t:htmlTag value="div" style="height: 10px;" />

		<h:outputText style="font-weight:bold;"
			value="#{msgs['CONVENTION.ETAPE8.DEMANDE']} : " />

		<t:htmlTag value="div" style="height: 10px;" />

		<p:messages />

		<p:dataTable id="table" style="width:750px;"
			value="#{conventionController.convention}" var="convention"
			rowHover="true" rowStyleClass="nopointer">
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="numeroetudiant1"
						value="#{msgs['CONVENTION.NUMETUDIANT']}" />
				</p:column>
				<p:column>
					<h:outputText id="numeroetudiant1"
						value="#{conventionController.etudiantRef.numEtudiant}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="nom1" value="#{msgs['CONVENTION.NOM']}" />
				</p:column>
				<p:column>
					<h:outputText id="nom1"
						value="#{conventionController.etudiantRef.nom}   #{conventionController.etudiantRef.nomMarital}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="prenom1" value="#{msgs['CONVENTION.PRENOM']}" />
				</p:column>
				<p:column>
					<h:outputText id="prenom1"
						value="#{conventionController.etudiantRef.prenom}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="etape1"
						value="#{msgs['CONVENTION.VOTREETAPE']}" />
				</p:column>
				<p:column>
					<h:outputText id="etape1"
						value="#{conventionController.etudiantRef.theCodeEtape} - #{conventionController.etudiantRef.theEtape}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="ufr1" value="#{msgs['CONVENTION.VOTREUFR']}" />
				</p:column>
				<p:column>
					<h:outputText id="ufr1"
						value="#{conventionController.etudiantRef.thecodeUFR} - #{conventionController.etudiantRef.theUfr}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup
				rendered="#{not empty conventionController.etudiantRef.theCodeElp}">
				<p:column>
					<h:outputLabel for="elp" value="#{msgs['CONVENTION.ELP']}" />
				</p:column>
				<p:column>
					<h:outputText id="elp"
						value="#{conventionController.etudiantRef.theCodeElp} - #{conventionController.etudiantRef.theLibElp} - #{conventionController.etudiantRef.theCreditECTS} crÃ©dit(s)" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel value="#{msgs['CONVENTION.ETU.ADRESSE']}"
						for="mainAddress1" />
				</p:column>
				<p:column>
					<h:outputText id="mainAddress1"
						value="#{conventionController.etudiantRef.mainAddress}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel value="#{msgs['CONVENTION.ETU.CODEPOSTAL']}"
						for="codePostal1" />
				</p:column>
				<p:column>
					<h:outputText id="codePostal1"
						value="#{conventionController.etudiantRef.postalCode} - #{conventionController.etudiantRef.town} - #{conventionController.etudiantRef.country}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel value="#{msgs['CONVENTION.ETU.TELEPHONE']}"
						for="telephone1" />
				</p:column>
				<p:column>
					<h:outputText id="telephone1"
						value="#{conventionController.etudiantRef.tel}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel value="#{msgs['CONVENTION.ETU.TELEPHONE.PORTABLE']}"
						for="telephoneportable1" />
				</p:column>
				<p:column>
					<h:outputText id="telephoneportable1"
						value="#{conventionController.etudiantRef.portablePhone}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel value="#{msgs['CONVENTION.ETU.MAILINSTITU']}"
						for="mailinstitu1" />
				</p:column>
				<p:column>
					<h:outputText id="mailinstitu1"
						value="#{conventionController.etudiantRef.mail}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel value="#{msgs['CONVENTION.ETU.MAILPERSO']}"
						for="mailperso1" />
				</p:column>
				<p:column>
					<h:outputText id="mailperso1"
						value="#{conventionController.etudiantRef.mailPerso}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel value="#{msgs['CONVENTION.ETU.AFFILSS']}"
						for="affilss1" />
				</p:column>
				<p:column>
					<h:outputText id="affilss1"
						value="#{conventionController.etudiantRef.theAssurance.libelle}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel value="#{msgs['CONVENTION.ETU.CPAM']}"
						for="caisses1" />
				</p:column>
				<p:column>
					<h:outputText id="caisses1"
						value="#{conventionController.etudiantRef.theCaisseRegime.libelle}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="typeConvention1"
						value="#{msgs['CONVENTION.TYPECONVENTION']}" />
				</p:column>
				<p:column>
					<h:outputText id="typeConvention1"
						value="#{conventionController.convention.typeConvention.libelle}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="theme1" value="#{msgs['CONVENTION.THEME']}" />
				</p:column>
				<p:column>
					<h:outputText id="theme1"
						value="#{conventionController.convention.theme.libelle}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="sujetStage1"
						value="#{msgs['CONVENTION.SUJET']}" />
				</p:column>
				<p:column>
					<h:outputText id="sujetStage1"
						value="#{conventionController.convention.sujetStage}"
						escape="false" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="fonctionsEtTaches1"
						value="#{msgs['CONVENTION.FONCTION']}" />
				</p:column>
				<p:column style="word-break:break-all; white-space:normal;">
					<h:outputText id="fonctionsEtTaches1"
						value="#{conventionController.convention.fonctionsEtTaches}"
						escape="false" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="competences1"
						value="#{msgs['CONVENTION.COMPETENCES']}" />
				</p:column>
				<p:column style="word-break:break-all; white-space:normal;">
					<h:outputText id="competences1"
						value="#{conventionController.convention.competences}"
						escape="false" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup
				rendered="#{not empty conventionController.convention.details}">
				<p:column>
					<h:outputLabel for="details1" value="#{msgs['CONVENTION.DETAILS']}" />
				</p:column>
				<p:column>
					<h:outputText id="details1"
						value="#{conventionController.convention.details}" escape="false" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="dateDebutStage1"
						value="#{msgs['CONVENTION.DEBUTSTAGE']}" />
				</p:column>
				<p:column>
					<h:outputText id="dateDebutStage1"
						value="#{conventionController.convention.dateDebutStage}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="ECT" />
					</h:outputText>
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="dateFinStage1"
						value="#{msgs['CONVENTION.FINSTAGE']}" />
				</p:column>
				<p:column>
					<h:outputText id="dateFinStage1"
						value="#{conventionController.convention.dateFinStage}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="ECT" />
					</h:outputText>
				</p:column>
			</p:columnGroup>

			<p:columnGroup
				rendered="#{conventionController.convention.interruptionStage == false}">
				<p:column>
					<h:outputLabel for="interruptionStage1"
						value="#{msgs['CONVENTION.INTERRUPTION']}" />
				</p:column>
				<p:column>
					<h:outputText id="interruptionStage1" value="#{msgs['FORM.NON']}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup
				rendered="#{conventionController.convention.interruptionStage == true}">
				<p:column>
					<h:outputLabel for="interruptionStage2"
						value="#{msgs['CONVENTION.INTERRUPTION']}" />
				</p:column>
				<p:column>
					<h:outputText id="interruptionStage2" value="#{msgs['FORM.OUI']}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup
				rendered="#{conventionController.convention.interruptionStage}">
				<p:column>
					<h:outputLabel for="dateDebutInterruption1"
						value="#{msgs['CONVENTION.INTERRUPDEBSTAGE']}" />
				</p:column>
				<p:column>
					<h:outputText id="dateDebutInterruption1"
						value="#{conventionController.convention.dateDebutInterruption}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="ECT" />
					</h:outputText>
				</p:column>
			</p:columnGroup>
			<p:columnGroup
				rendered="#{conventionController.convention.interruptionStage}">
				<p:column>
					<h:outputLabel for="dateFinInterruption1"
						value="#{msgs['CONVENTION.INTERRUPFINSTAGE']}" />
				</p:column>
				<p:column>
					<h:outputText id="dateFinInterruption1"
						value="#{conventionController.convention.dateFinInterruption}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="ECT" />
					</h:outputText>
				</p:column>
			</p:columnGroup>
			<p:columnGroup
				rendered="#{not empty conventionController.convention.dureeExceptionnelle}">
				<p:column>
					<h:outputLabel for="dureeExceptionnelle1"
						value="#{msgs['CONVENTION.DUREEEXCEPT.INFO']}" />
				</p:column>
				<p:column>
					<h:panelGrid columns="2">
						<h:outputText id="dureeExceptionnelle1"
							value="#{conventionController.convention.dureeExceptionnelle}" />
						<h:outputText
							rendered="#{empty conventionController.convention.idUniteDureeExceptionnelle or conventionController.convention.idUniteDureeExceptionnelle == 0}"
							value="heure(s)" />
						<h:panelGrid
							rendered="#{not empty conventionController.convention.idUniteDureeExceptionnelle}">
							<h:outputText value="heure(s)"
								rendered="#{conventionController.convention.idUniteDureeExceptionnelle == 1}" />
							<h:outputText value="jour(s)"
								rendered="#{conventionController.convention.idUniteDureeExceptionnelle == 2}" />
							<h:outputText value="semaine(s)"
								rendered="#{conventionController.convention.idUniteDureeExceptionnelle == 3}" />
							<h:outputText value="mois"
								rendered="#{conventionController.convention.idUniteDureeExceptionnelle == 4}" />
							<h:outputText value="annee(s)"
								rendered="#{conventionController.convention.idUniteDureeExceptionnelle == 5}" />
						</h:panelGrid>
					</h:panelGrid>
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="nbJoursHebdo1"
						value="#{msgs['CONVENTION.NBJOURSHEBDO']}" />
				</p:column>
				<p:column>
					<h:outputText id="nbJoursHebdo1"
						value="#{conventionController.convention.nbJoursHebdo}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="tempsTravail1"
						value="#{msgs['CONVENTION.TEMPSTRAVAIL']}" />
				</p:column>
				<p:column>
					<h:outputText id="tempsTravail1"
						value="#{conventionController.convention.tempsTravail.libelle}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup
				rendered="#{not empty conventionController.convention.commentaireDureeTravail}">
				<p:column>
					<h:outputLabel for="commentaireDureeTravail1"
						value="#{msgs['CONVENTION.COMMENTDUREETRAVAIL.INFO']}" />
				</p:column>
				<p:column>
					<h:outputText id="commentaireDureeTravail1"
						value="#{conventionController.convention.commentaireDureeTravail}"
						escape="false" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="nbHeuresHebdo1"
						value="#{msgs['CONVENTION.NBHEURESHEBDO.INFO']}" />
				</p:column>
				<p:column>
					<h:outputText id="nbHeuresHebdo1"
						value="#{conventionController.convention.nbHeuresHebdo}" />
				</p:column>
			</p:columnGroup>
			<!-- 			<p:columnGroup> -->
			<!-- 				<p:column> -->
			<!-- 					<h:outputLabel for="quotiteTravail1" -->
			<!-- 						value="#{msgs['CONVENTION.QUOTITETRAVAIL']}" /> -->
			<!-- 				</p:column> -->
			<!-- 				<p:column> -->
			<!-- 					<h:outputText id="quotiteTravail1" -->
			<!-- 						value="#{conventionController.convention.quotiteTravail}" /> -->
			<!-- 				</p:column> -->
			<!-- 			</p:columnGroup> -->

			<p:columnGroup
				rendered="#{not empty conventionController.convention.nbConges}">
				<p:column>
					<h:outputLabel for="nbconges1"
						value="#{msgs['CONVENTION.NBCONGES']}" />
				</p:column>
				<p:column>
					<h:outputText id="nbconges1"
						value="#{conventionController.convention.nbConges}" />
				</p:column>
			</p:columnGroup>

			<p:columnGroup>
				<p:column>
					<h:outputLabel for="indemnisation1"
						value="#{msgs['CONVENTION.INDEMNISATION']}" />
				</p:column>
				<p:column>
					<h:outputText id="indemnisation1"
						value="#{conventionController.convention.indemnisation.libelle}" />
				</p:column>
			</p:columnGroup>

			<p:columnGroup
				rendered="#{conventionController.convention.indemnisation.libelle==beanUtils.indemnisationOui}">
				<p:column>
					<!-- modif affichage montant gratification -->
					<h:outputLabel for="montantGratification1"
						value="#{msgs['CONVENTION.MTGRATIFICATION']}" />
				</p:column>
				<p:column>
					<h:outputText id="montantGratification1"
						value="#{conventionController.convention.montantGratification} #{conventionController.convention.monnaieGratification} par #{conventionController.convention.uniteDureeGratification.libelle} - #{conventionController.convention.uniteGratification.libelle}" />
					<!-- 			<h:outputLabel for="modeVersGratification1" -->
					<!-- 				value="#{msgs['CONVENTION.MODEVERSGRAT']}" -->
					<!-- 				rendered="#{conventionController.convention.indemnisation.libelle==beanUtils.indemnisationOui}" /> -->
					<!-- 			<h:outputText id="modeVersGratification1" -->
					<!-- 				value="#{conventionController.convention.modeVersGratification.libelle}" -->
					<!-- 				rendered="#{conventionController.convention.indemnisation.libelle==beanUtils.indemnisationOui}" /> -->
					<!-- ##################################### -->
				</p:column>
			</p:columnGroup>

			<p:columnGroup>
				<p:column>
					<h:outputLabel for="origineStage1"
						value="#{msgs['CONVENTION.ORIGINESTAGE']}" />
				</p:column>
				<p:column>
					<h:outputText id="origineStage1"
						value="#{conventionController.convention.origineStage.libelle}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="temConfSujetTeme1"
						value="#{msgs['CONVENTION.TEMCONFSUJET']}" />
				</p:column>
				<p:column>
					<h:outputText id="temConfSujetTeme1"
						value="#{conventionController.convention.temConfSujetTeme}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup
				rendered="#{not empty conventionController.convention.modeEncadreSuivi}">
				<p:column>
					<h:outputLabel for="modeEncadreSuivi1"
						value="#{msgs['CONVENTION.MODESUIVI.INFO']}" />
				</p:column>
				<p:column>
					<h:outputText id="modeEncadreSuivi1"
						value="#{conventionController.convention.modeEncadreSuivi}"
						escape="false" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup
				rendered="#{not empty conventionController.convention.avantagesNature}">
				<p:column>
					<h:outputLabel for="avantagesNature1"
						value="#{msgs['CONVENTION.AVANTAGESNATURE.INFO']}" />
				</p:column>
				<p:column>
					<h:outputText id="avantagesNature1"
						value="#{conventionController.convention.avantagesNature}"
						escape="false" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="natureTravail1"
						value="#{msgs['CONVENTION.NATURETRAVAIL']}" />
				</p:column>
				<p:column>
					<h:outputText id="natureTravail1"
						value="#{conventionController.convention.natureTravail.libelle}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="modeValidationStage1"
						value="#{msgs['CONVENTION.MODEVALIDSTAGE']}" />
				</p:column>
				<p:column>
					<h:outputText id="modeValidationStage1"
						value="#{conventionController.convention.modeValidationStage.libelle}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup
				rendered="#{not empty conventionController.convention.travailNuitFerie}">
				<p:column>
					<h:outputLabel for="travailNuitFerie1"
						value="#{msgs['CONVENTION.TRAVAILNUITFERIE.INFO']}" />
				</p:column>
				<p:column>
					<h:outputText id="travailNuitFerie1"
						value="#{conventionController.convention.travailNuitFerie}"
						escape="false" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="enseignant1"
						value="#{msgs['CONVENTION.ENSEIGNANT']}" />
				</p:column>
				<p:column>
					<h:outputText id="enseignant1"
						value="#{conventionController.convention.enseignant.civilite.libelle} 
								#{conventionController.convention.enseignant.nom} #{conventionController.convention.enseignant.prenom} 
								- #{conventionController.convention.enseignant.affectation.libelle} " />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="structure1"
						value="#{msgs['CONVENTION.STRUCTURE']}" />
				</p:column>
				<p:column>
					<h:outputText id="structure1"
						value="#{conventionController.convention.structure.raisonSociale} 
								#{conventionController.convention.structure.commune} #{conventionController.convention.structure.pays.libelle}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="service1" value="#{msgs['CONVENTION.SERVICE']}" />
				</p:column>
				<p:column>
					<h:outputText id="service1"
						value="#{conventionController.convention.service.nom} 
								#{conventionController.convention.service.commune} #{conventionController.convention.service.pays.libelle}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="contact1" value="#{msgs['CONVENTION.CONTACT']}" />
				</p:column>
				<p:column>
					<h:outputText id="contact1"
						value="#{conventionController.convention.contact.civilite.libelle} 
								#{conventionController.convention.contact.nom} #{conventionController.convention.contact.prenom} 
								#{conventionController.convention.contact.fonction}" />
				</p:column>
			</p:columnGroup>
			<p:columnGroup>
				<p:column>
					<h:outputLabel for="signataire1"
						value="#{msgs['CONVENTION.SIGNATAIRE']}" />
				</p:column>
				<p:column>
					<h:outputText id="signataire1"
						value="#{conventionController.convention.signataire.civilite.libelle} 
								#{conventionController.convention.signataire.nom} #{conventionController.convention.signataire.prenom} 
								#{conventionController.convention.signataire.fonction}" />
				</p:column>
			</p:columnGroup>
		</p:dataTable>
		<t:htmlTag value="div" style="height:20px;" />
		<t:htmlTag value="center">
			<h:commandButton value="#{msgs['FORM.CREER']}"
				style="font-size:14px; border:solid 1px;"
				action="#{conventionController.goToAjouterConvention}" />
		</t:htmlTag>
		<t:htmlTag value="div" style="height:30px;" />
		<h:commandButton value="#{msgs['FORM.CANCEL']}"
			action="#{conventionController.goToCreerConventionEtape7Signataire}" />
	</p:panel>
	<p:jQuery selector=".stable tr:odd" query="addClass('odd-row')" />
	<p:jQuery selector=".stable tr:even" query="addClass('even-row')" />
	<p:jQuery selector=".stable tr"
		query="live('mouseover', function(){jQuery(this).addClass('active-row')})" />
	<p:jQuery selector=".stable tr"
		query="live('mouseout', function(){jQuery(this).removeClass('active-row')})" />
</ui:composition>
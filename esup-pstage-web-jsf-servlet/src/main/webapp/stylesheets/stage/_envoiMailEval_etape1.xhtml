<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:t="http://myfaces.apache.org/tomahawk">

    <t:panelGrid columns="2">

        <h:outputText styleClass="fontBold" value="Type de mail : " />
        <h:selectOneMenu id="typeEnvoiMail" required="true" styleClass="customPstage fix-selectOneMenu"
                         value="#{evaluationController.typeMailEval}">
            <f:selectItem itemValue="1"
                          itemLabel="#{msgs['RECHERCHEEVALUATION.ENVOIMAIL.TYPEMAIL.1ERENVOI']}" />
            <f:selectItem itemValue="2"
                          itemLabel="#{msgs['RECHERCHEEVALUATION.ENVOIMAIL.TYPEMAIL.RAPPEL']}" />
            <p:ajax event="valueChange" update="formEnvoiMailEval" />
        </h:selectOneMenu>
        <t:panelGroup colspan="2">
            <p:message for="typeEnvoiMail" />
        </t:panelGroup>

        <t:panelGroup colspan="2">
            <t:htmlTag value="div" style="height: 5px;" />
        </t:panelGroup>

        <h:outputText styleClass="fontBold"
                      value="Destinataires des mails : " />
        <p:selectOneRadio id="typeDestMailEval"
                          value="#{evaluationController.typeDestMailEval}">
            <f:selectItem itemValue="1"
                          itemLabel="#{msgs['RECHERCHEEVALUATION.ENVOIMAIL.TYPEDEST.ETU']}" />
            <f:selectItem itemValue="2" style="margin-left:10px;"
                          itemLabel="#{msgs['RECHERCHEEVALUATION.ENVOIMAIL.TYPEDEST.ENS']}" />
            <f:selectItem itemValue="3" style="margin-left:10px;"
                          itemLabel="#{msgs['RECHERCHEEVALUATION.ENVOIMAIL.TYPEDEST.ENT']}" />
            <p:ajax event="valueChange" update="formEnvoiMailEval" />
        </p:selectOneRadio>

        <t:panelGroup colspan="2">
            <t:htmlTag value="div" style="height:10px;" />
        </t:panelGroup>

        <h:outputText styleClass="fontBold" value="Squelette du mail : " />
        <t:fieldset id="contenuMail" style="width:400px;">
            <h:outputText value="#{evaluationController.contenuMailEval}"
                          escape="false" disabled="true" />
        </t:fieldset>
    </t:panelGrid>

    <t:htmlTag value="div" style="height:25px;" />

    <t:div styleClass="ml40">
        <h:outputText value="#{msgs['FORM.CONFIRMER']} ?"
                      styleClass="fontBold fz16"/>
        <p:commandButton styleClass="ml20"
                         action="#{evaluationController.envoiMailEvalEnMasse}"
                         value="#{msgs['FORM.OUI']}" update="formEnvoiMailEval"
                         onstart="PF('statusDialog').show();" oncomplete="PF('statusDialog').hide();" />
        <p:commandButton value="#{msgs['FORM.NON']}" styleClass="ml20"
                         onclick="PF('envoiMailEvalPanel').hide();" />
    </t:div>

    <t:htmlTag value="div" style="height:10px;" />
</ui:composition>
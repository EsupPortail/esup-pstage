<ui:include src="../_include.xhtml"/>

<h:panelGrid columns="1">
	<ui:include src="../_commun/_champsObligatoires.xhtml"/>
	<e:outputLabel for="mdp" value="#{msgs['CONTACT.GESTION.COMPTE.CHANGEMENTMOTDEPASSE.MDPACTUEL']} *" />
	<h:inputSecret id="mdp" size="12" maxlength="12"
		value="#{etablissementController.mdpActuel}" required="true"
		maxlength="12" size="12"
		requiredMessage="#{requiredMessageController.champObligatoire}">
		<f:converter binding="#{passwordConverter}" />
		<a4j:ajax event="blur" ignoreDupResponses="true" />
	</h:inputSecret>
	<rich:message for="mdp">
		<ui:include src="../_commun/_messageErrorMarker.xhtml"/>
	</rich:message>
	<h:panelGrid columns="2" style="font-size:11px;">
		<h:graphicImage alt="#{msgs['CONTACT.GESTION.COMPTE.CHANGEMENTMOTDEPASSE.NOUVEAUMDP']}"
			title="#{msgs['CONTACT.GESTION.COMPTE.CHANGEMENTMOTDEPASSE.NOUVEAUMDP']}"
			value="../../media/images/information.png" style="border:0" />
		<h:outputText value="#{msgs['CONTACT.GESTION.COMPTE.CHANGEMENTMOTDEPASSE.NOUVEAUMDP.AIDE']}" />
	</h:panelGrid>
	<e:outputLabel for="mdpNew" value="#{msgs['CONTACT.GESTION.COMPTE.CHANGEMENTMOTDEPASSE.NOUVEAUMDP']} *" />
	<h:inputSecret id="mdpNew" size="12" maxlength="12"
		value="#{etablissementController.mdpNouveau}" required="true"
		maxlength="12" size="12"
		requiredMessage="#{requiredMessageController.champObligatoire}"
		validatorMessage="#{requiredMessageController.nouveauMotDePasse}">
		<f:validateLength minimum="6" maximum="12"/>
		<a4j:ajax event="blur" />
	</h:inputSecret>
	<rich:message for="mdpNew">
		<ui:include src="../_commun/_messageErrorMarker.xhtml"/>
	</rich:message>
	<e:outputLabel for="mdpConfirm" value="#{msgs['CONTACT.GESTION.COMPTE.CHANGEMENTMOTDEPASSE.NOUVEAUMDPCONFIRM']} *" />
	<h:inputSecret id="mdpConfirm" size="12" maxlength="12"
		value="#{etablissementController.mdpNouveauConfirmation}" required="true"
		maxlength="12" size="12"
		requiredMessage="#{requiredMessageController.champObligatoire}"
		validatorMessage="#{requiredMessageController.nouveauMotDePasse}">
		<f:validateLength minimum="6" maximum="12"/>
		<a4j:ajax event="blur" ignoreDupResponses="true" />
	</h:inputSecret>
	<rich:message for="mdpConfirm">
		<ui:include src="../_commun/_messageErrorMarker.xhtml"/>
	</rich:message>
</h:panelGrid>
<a4j:commandButton
	action="#{etablissementController.changerMotDePasse}"
	value="#{msgs['FORM.NEXT']}" />
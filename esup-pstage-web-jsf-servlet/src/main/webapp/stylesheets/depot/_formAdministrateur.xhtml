<%@include file="../_include.jsp"%>
<e:panelGrid columns="1">
	<%@include file="../_commun/_champsObligatoires.jsp"%>
	<e:outputLabel for="typeCompte"
		value="#{msgs['ADMINSTRUCTURE.TYPECOMPTE']}" />
	<h:selectOneRadio id="typeCompte"
		value="#{adminController.typeCompteAdminStructure}"
		converter="#{intConverter}" required="true"
		requiredMessage="#{requiredMessageController.champObligatoire}">
		<f:selectItems value="#{adminController.listTypeCompteAdminStructure}" />
		<a4j:support event="onchange" reRender="opFormAdmin" ajaxSingle="true" />
	</h:selectOneRadio>
</e:panelGrid>
<a4j:outputPanel id="opFormAdmin" ajaxRendered="true">
<e:panelGrid columns="1">
	<e:outputLabel for="nomAdmin" value="#{msgs['ADMINSTRUCTURE.NOM']} *" />
	<h:inputText id="nomAdmin"
		value="#{adminController.formAdminStructure.nom}" size="50"
		maxlength="50" required="true"
		requiredMessage="#{requiredMessageController.champObligatoire}"
		style="text-transform:uppercase;">
		<f:converter binding="#{upperCaseConverter}" />
		<rich:ajaxValidator event="onblur" ignoreDupResponses="true" />
	</h:inputText>
	<rich:message for="nomAdmin">
		<%@include file="../_commun/_messageErrorMarker.jsp"%>
	</rich:message>
	<e:outputLabel for="prenomAdmin"
		value="#{msgs['ADMINSTRUCTURE.PRENOM']} *" />
	<h:inputText id="prenomAdmin" style="text-transform:capitalize;"
		value="#{adminController.formAdminStructure.prenom}" size="50"
		maxlength="50" required="true"
		requiredMessage="#{requiredMessageController.champObligatoire}"
		style="text-transform:capitalize;">
		<f:converter binding="#{premiereLettreMAJConverter}" />
		<rich:ajaxValidator event="onblur" ignoreDupResponses="true" />
	</h:inputText>
	<rich:message for="prenomAdmin">
		<%@include file="../_commun/_messageErrorMarker.jsp"%>
	</rich:message>
	<e:outputLabel for="mailAdmin" value="#{msgs['ADMINSTRUCTURE.MAIL']} *" />
	<h:inputText id="mailAdmin"
		value="#{adminController.formAdminStructure.mail}" size="50"
		maxlength="50" required="true"
		requiredMessage="#{requiredMessageController.champObligatoire}"
		validatorMessage="#{requiredMessageController.adresseMailNonValide}">
		<f:validator binding="#{mailValidator}" />
		<rich:ajaxValidator event="onkeyup" ignoreDupResponses="true" />
		<rich:ajaxValidator event="onblur" ignoreDupResponses="true" />
	</h:inputText>
	<rich:message for="mailAdmin">
		<%@include file="../_commun/_messageErrorMarker.jsp"%>
	</rich:message>
	<e:outputLabel for="loginAdmin"
		value="#{msgs['ADMINSTRUCTURE.LOGIN']} *"
		rendered="#{adminController.typeCompteAdminStructure==0 || adminController.typeCompteAdminStructure==1}" />
	<h:inputText id="loginAdmin"
		value="#{adminController.formAdminStructure.login}"
		rendered="#{adminController.typeCompteAdminStructure==0 || adminController.typeCompteAdminStructure==1}"
		size="30" maxlength="50" required="true"
		requiredMessage="#{requiredMessageController.champObligatoire}">
		<rich:ajaxValidator event="onblur" ignoreDupResponses="true" />
	</h:inputText>
	<rich:message for="loginAdmin">
		<%@include file="../_commun/_messageErrorMarker.jsp"%>
	</rich:message>
	<e:outputLabel for="mdpAdmin" value="#{msgs['ADMINSTRUCTURE.MDP']} *"
		rendered="#{adminController.typeCompteAdminStructure==0}" />
	<h:inputSecret id="mdpAdmin"
		value="#{adminController.formAdminStructure.mdp}"
		rendered="#{adminController.typeCompteAdminStructure==0}" size="20"
		maxlength="20" required="true"
		requiredMessage="#{requiredMessageController.champObligatoire}">
		<f:converter binding="#{passwordConverter}" />
		<rich:ajaxValidator event="onblur" ignoreDupResponses="true" />
	</h:inputSecret>
	<rich:message for="mdpAdmin">
		<%@include file="../_commun/_messageErrorMarker.jsp"%>
	</rich:message>
	<e:outputLabel for="cmdpAdmin"
		value="#{msgs['ADMINSTRUCTURE.MDP_CONFIRMATION']} *"
		rendered="#{adminController.typeCompteAdminStructure==0}" />
	<h:inputSecret id="cmdpAdmin"
		value="#{adminController.formAdminMdpConfirmation}" size="20"
		maxlength="20"
		rendered="#{adminController.typeCompteAdminStructure==0}"
		required="true"
		requiredMessage="#{requiredMessageController.champObligatoire}">
		<f:converter binding="#{passwordConverter}" />
		<rich:ajaxValidator event="onblur" ignoreDupResponses="true" />
	</h:inputSecret>
	<rich:message for="cmdpAdmin">
		<%@include file="../_commun/_messageErrorMarker.jsp"%>
	</rich:message>
	<e:outputLabel for="eppnAdmin" value="#{msgs['ADMINSTRUCTURE.EPPN']} *"
		rendered="#{adminController.typeCompteAdminStructure==2}" />
	<h:inputText id="eppnAdmin"
		value="#{adminController.formAdminStructure.eppn}"
		rendered="#{adminController.typeCompteAdminStructure==2}" size="50"
		maxlength="50" required="true"
		requiredMessage="#{requiredMessageController.champObligatoire}"
		validatorMessage="#{requiredMessageController.adresseMailNonValide}">
		<f:validator binding="#{mailValidator}" />
		<rich:ajaxValidator event="onkeyup" ignoreDupResponses="true" />
		<rich:ajaxValidator event="onblur" ignoreDupResponses="true" />
	</h:inputText>
	<rich:message for="eppnAdmin">
		<%@include file="../_commun/_messageErrorMarker.jsp"%>
	</rich:message>
</e:panelGrid>
</a4j:outputPanel>
<ui:include src="../_include.jsp"/>

<e:page stringsVar="msgs" locale="#{sessionController.locale}"
	authorized="true">
	<h:panelGrid style="float:left;">
		<ui:include src="./_menu.jsp"/>
	</h:panelGrid>
	<t:div rendered="#{sessionController.adminPageAuthorized}">
		<h:panelGrid columns="1"
			styleClass="panelEntreprise">
			<rich:panel>
				<f:facet name="header">
					<e:text value="#{msgs['STRUCTURE.MODIF']}" />
				</f:facet>
				<t:div rendered="#{empty etablissementController.formStructure}">
					<e:text value="#{msgs['STRUCTURE.AUCUN']}" />
				</t:div>
				<t:div rendered="#{not empty etablissementController.formStructure}">
					<h:form id="formModifEtab">
						<rich:message for="formModifEtab">
							<ui:include src="../_commun/_messageErrorMarker.jsp"/>
						</rich:message>
						<ui:include src="../_commun/_etablissementForm.jsp"/>
						<h:panelGrid columns="3">	
							<h:commandButton value="#{msgs['FORM.MODIFIER']}"
								action="#{etablissementController.modifierEtablissement}">
							</h:commandButton>
							<rich:spacer width="100px" />
							<h:commandButton value="#{msgs['FORM.ANNULER']}"
								action="affichageRechercheEtablissement"
								alt="#{msgs['FORM.ANNULER']}"
								title="#{msgs['FORM.ANNULER']}"
								immediate="true"
								rendered="#{etablissementController.modificationEtabBoutonAnnuler}">
							</h:commandButton>
							<h:commandButton value="#{msgs['RECHERCHEETABLISSEMENT.RETOUR']}"
								action="#{rechercheController.goToRechercheEtablissement}"
								alt="#{msgs['RECHERCHEETABLISSEMENT.RETOUR']}"
								title="#{msgs['RECHERCHEETABLISSEMENT.RETOUR']}"
								immediate="true"
								rendered="#{!etablissementController.modificationEtabBoutonAnnuler}">
							</h:commandButton>
						</h:panelGrid>
					</h:form>
				</t:div>
			</rich:panel>
			<ui:include src="_panelNousContacter.jsp"/>
		</h:panelGrid>
	</t:div>
</e:page>


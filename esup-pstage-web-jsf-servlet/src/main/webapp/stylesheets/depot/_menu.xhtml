<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:t="http://myfaces.apache.org/tomahawk">
	<h:form id="formMenu">
		<h:panelGrid style="width:180px; font-size:12px;">
			<h:panelGrid columns="2">
				<h:outputText
					value="#{sessionController.currentAuthAdminStructure.prenom} #{sessionController.currentAuthAdminStructure.nom}"
					rendered="#{sessionController.adminPageAuthorized and not empty sessionController.currentAuthAdminStructure}" />
				<h:outputText
					value="#{sessionController.currentAuthContact.prenom} #{sessionController.currentAuthContact.nom}"
					rendered="#{sessionController.pageAuthorized and not sessionController.adminPageAuthorized and not empty sessionController.currentAuthContact}" />
			</h:panelGrid>
			<h:outputLabel for="avecAc"
				value="#{sessionController.currentManageStructure.raisonSociale}"
				rendered="#{sessionController.pageAuthorized}" />
			<h:panelGrid columns="2"
				rendered="#{(sessionController.adminPageAuthorized and not empty sessionController.currentManageStructure
			and sessionController.menuGestionEtab)}">
				<h:outputLabel for="avecAc"
					value="#{sessionController.currentManageStructure.raisonSociale}" />
				<h:graphicImage id="avecAc" alt="rondVert"
					value="../../media/images/bullet_green.png"
					rendered="#{sessionController.currentManageStructure.idAccordPartenariat>0}" />
			</h:panelGrid>
			<h:panelGrid columns="2">
				<h:graphicImage alt="V" value="../../media/images/tick.png"
					
					rendered="#{sessionController.currentManageStructure.idAccordPartenariat gt 0
				and sessionController.currentManageStructure.accordPartenariat!=null
				and sessionController.currentManageStructure.accordPartenariat.estValide}" />
				<h:graphicImage alt="X" value="../../media/images/cross.png"
					
					rendered="#{sessionController.currentManageStructure.idAccordPartenariat gt 0
				and sessionController.currentManageStructure.accordPartenariat!=null
				and !sessionController.currentManageStructure.accordPartenariat.estValide}" />
				<h:outputText value="#{msgs['STRUCTURE.ACCORDVALIDE']}"
					rendered="#{sessionController.currentManageStructure.idAccordPartenariat gt 0
				and sessionController.currentManageStructure.accordPartenariat!=null
				and sessionController.currentManageStructure.accordPartenariat.estValide}" />
				<h:outputText value="#{msgs['STRUCTURE.ACCORDNONVALIDE']}"
					rendered="#{sessionController.currentManageStructure.idAccordPartenariat gt 0
				and sessionController.currentManageStructure.accordPartenariat!=null
				and !sessionController.currentManageStructure.accordPartenariat.estValide}" />
			</h:panelGrid>

			<p:separator style="width: 80%; height: 3px;"
				rendered="#{sessionController.pageAuthorized 
			|| (sessionController.adminPageAuthorized and not empty sessionController.currentManageStructure)
			and sessionController.menuGestionEtab}" />

			<h:commandLink
				action="#{etablissementController.goToFicheSignaletique}"
				rendered="#{sessionController.pageAuthorized 
		|| (sessionController.adminPageAuthorized and not empty sessionController.currentManageStructure)
		and sessionController.menuGestionEtab}">
				<h:graphicImage alt="#{msgs['MENU.FICHESIGNALETIQUE']}"
					title="#{msgs['MENU.FICHESIGNALETIQUE']}"
					value="../../media/images/card.png" />
				<h:outputText value=" #{msgs['MENU.FICHESIGNALETIQUE']}" />
			</h:commandLink>
			<h:commandLink
				action="#{etablissementController.goToGestionContacts}"
				rendered="#{sessionController.pageAuthorized 
		|| (sessionController.adminPageAuthorized and not empty sessionController.currentManageStructure)
		and sessionController.menuGestionEtab}">
				<h:graphicImage alt="#{msgs['MENU.GESTIONCONTACTS']}"
					title="#{msgs['MENU.GESTIONCONTACTS']}"
					value="../../media/images/book_open.png" />
				<h:outputText value=" #{msgs['MENU.GESTIONCONTACTS']}" />
			</h:commandLink>
			<t:htmlTag value="div" style="height: 10px;" />
			<h:commandLink
				action="#{offreController.goToEntrepriseCreationOffre}"
				rendered="#{sessionController.pageAuthorized 
		|| (sessionController.adminPageAuthorized and not empty sessionController.currentManageStructure)
		and sessionController.menuGestionEtab}">
				<h:graphicImage alt="#{msgs['MENU.AJOUTEROFFRE']}"
					title="#{msgs['MENU.AJOUTEROFFRE']}"
					value="../../media/images/new.png" />
				<h:outputText value=" #{msgs['MENU.AJOUTEROFFRE']}" />
				<f:setPropertyActionListener value="#{1}"
					target="#{offreController.typeAjoutModifOffre}" />
			</h:commandLink>
			<h:commandLink action="#{offreController.goToGestionOffres}"
				rendered="#{sessionController.pageAuthorized 
		|| (sessionController.adminPageAuthorized and not empty sessionController.currentManageStructure)
		and sessionController.menuGestionEtab}">
				<h:graphicImage alt="#{msgs['MENU.GESTIONOFFRES']}"
					title="#{msgs['MENU.GESTIONOFFRES']}"
					value="../../media/images/list.png" />
				<h:outputText value=" #{msgs['MENU.GESTIONOFFRES']}" />
			</h:commandLink>
			<t:htmlTag value="div" style="height: 10px;" />
			<h:commandLink id="lmodifMdp"
				action="#{etablissementController.goToChangerMotDePasse}"
				rendered="#{sessionController.pageAuthorized and not empty sessionController.currentAuthContact 
					and not empty sessionController.currentManageStructure
					and sessionController.menuGestionEtab}">
				<f:setPropertyActionListener value="_changementMotDePasseEtape1"
					target="#{sessionController.modifMdpCurrentPage}" />
				<h:graphicImage alt="#{msgs['MENU.MODIFMDP']}"
					title="#{msgs['MENU.MODIFMDP']}"
					value="../../media/images/edit.png"
					rendered="#{sessionController.pageAuthorized and not empty sessionController.currentAuthContact}" />
				<h:graphicImage alt="#{msgs['MENU.MODIFMDP']}"
					title="#{msgs['MENU.MODIFMDP']}"
					value="../../media/images/edit_block.png"
					rendered="#{sessionController.adminPageAuthorized}" />
				<h:outputText value=" #{msgs['MENU.MODIFMDP']}" />
				<p:tooltip value="#{msgs['MENU.MODIFMDP.BLOCK']}"
					rendered="#{sessionController.adminPageAuthorized}" />
			</h:commandLink>
			<t:htmlTag value="div" style="height: 10px;"
				rendered="#{sessionController.pageAuthorized and sessionController.cvtheque
		|| (sessionController.adminPageAuthorized and not empty sessionController.currentManageStructure and sessionController.cvtheque)}" />
			<h:commandLink
				action="#{etablissementController.goToGestionCvtheque}"
				rendered="#{sessionController.pageAuthorized and sessionController.cvtheque
		|| (sessionController.adminPageAuthorized and not empty sessionController.currentManageStructure and sessionController.cvtheque)}"
				target="_blank">
				<h:graphicImage alt="#{msgs['MENU.GESTIONCVTHEQUE']}"
					title="#{msgs['MENU.GESTIONCVTHEQUE']}"
					value="../../media/images/group.png" />
				<h:outputText id="cvtheque" value=" #{msgs['MENU.GESTIONCVTHEQUE']}" />
				<p:message for="cvtheque">
					<ui:include src="../_commun/_messageErrorMarker.xhtml" />
				</p:message>
			</h:commandLink>
			<t:htmlTag value="div" style="height: 10px;"
				rendered="#{sessionController.pageAuthorized and sessionController.cvtheque
		|| (sessionController.adminPageAuthorized and not empty sessionController.currentManageStructure and sessionController.cvtheque)}" />
		</h:panelGrid>
		<h:panelGrid style="width:200px">
			<p:separator style="width: 80%; height: 3px;"
				rendered="#{sessionController.adminPageAuthorized}" />

			<h:outputText value="#{msgs['MENU.ADMINISTRATION']}"
				rendered="#{sessionController.adminPageAuthorized}" />
			<h:commandLink action="#{centreController.goToCentreEntreprise}"
				rendered="#{sessionController.superAdminPageAuthorized}">
				<h:graphicImage alt="#{msgs['MENU.CENTREENTREPRISE']}"
					title="#{msgs['MENU.CENTREENTREPRISE']}"
					value="../../media/images/building.png" />
				<h:outputText value=" #{msgs['MENU.CENTREENTREPRISE']}" />
			</h:commandLink>
			<h:panelGrid
				rendered="#{not empty centreController.centreEntreprise}">
				<h:commandLink action="#{adminController.goToAdministrateurs}"
					rendered="#{sessionController.superAdminPageAuthorized}">
					<h:graphicImage alt="#{msgs['MENU.ADMINISTRATEURS']}"
						title="#{msgs['MENU.ADMINISTRATEURS']}"
						value="../../media/images/user.png" />
					<h:outputText value=" #{msgs['MENU.ADMINISTRATEURS']}" />
				</h:commandLink>
				<h:commandLink
					action="#{rechercheController.goToRechercheEtablissement}"
					rendered="#{sessionController.adminPageAuthorized}">
					<h:graphicImage alt="#{msgs['MENU.RECHERCHEETAB']}"
						title="#{msgs['MENU.RECHERCHEETAB']}"
						value="../../media/images/zoom.png" />
					<h:outputText value=" #{msgs['MENU.RECHERCHEETAB']}" />
					<f:setPropertyActionListener value="#{2}"
						target="#{rechercheController.ongletCourant}" />
				</h:commandLink>
				<h:commandLink action="#{rechercheController.goToAccordAValider}"
					rendered="#{sessionController.adminPageAuthorized}">
					<h:graphicImage
						alt="#{msgs['MENU.ACCORDSAVALIDER']} (#{rechercheController.accordAValider})"
						title="#{msgs['MENU.ACCORDSAVALIDER']} (#{rechercheController.accordAValider})"
						value="../../media/images/tick.png" />
					<h:outputText
						value=" #{msgs['MENU.ACCORDSAVALIDER']} (#{rechercheController.accordAValider})" />
				</h:commandLink>
				<h:commandLink action="#{offreController.goToRechercheOffre}"
					rendered="#{sessionController.adminPageAuthorized}">
					<h:graphicImage alt="#{msgs['MENU.RECHERCHEOFFRE']}"
						title="#{msgs['MENU.RECHERCHEOFFRE']}"
						value="../../media/images/zoom.png" />
					<h:outputText value=" #{msgs['MENU.RECHERCHEOFFRE']}" />
				</h:commandLink>
				<h:commandLink action="#{offreController.goToOffreADiffuser}"
					rendered="#{sessionController.moderationActive and sessionController.adminPageAuthorized}">
					<h:graphicImage alt="#{msgs['MENU.OFFRESADIFFUSER']})"
						title="#{msgs['MENU.OFFRESADIFFUSER']})"
						value="../../media/images/tick.png" />
					<h:outputText
						value=" #{msgs['MENU.OFFRESADIFFUSER']} (#{offreController.offreADiffuser})" />
				</h:commandLink>
			</h:panelGrid>
			
			<p:separator style="width:80%; height:3px;" />
			
			<h:commandLink value=" #{msgs['MENU.AIDE']}" action="#{welcomeController.goToAccueilEntr}">
				<h:graphicImage alt="#{msgs['MENU.AIDE']}"
					title="#{msgs['MENU.AIDE']}"
					value="../../media/images/information.png" />
			</h:commandLink>
			
			<p:separator style="width:80%; height:3px;" />
			
			<h:commandLink value=" #{msgs['GENERAL.DECONNEXION']}" action="#{welcomeController.disconnectEntreprise}"
				rendered="#{sessionController.pageAuthorized || sessionController.adminPageAuthorized}">
				<h:graphicImage alt="#{msgs['GENERAL.DECONNEXION']}"
					title="#{msgs['GENERAL.DECONNEXION']}"
					value="../../media/images/cancel.png" />
			</h:commandLink>
		</h:panelGrid>
	</h:form>
</ui:composition>
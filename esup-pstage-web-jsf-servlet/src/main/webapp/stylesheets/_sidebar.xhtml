<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:t="http://myfaces.apache.org/tomahawk" xmlns:p="http://primefaces.org/ui">

    <t:div id="SIDEBAR">
        <t:div id="SIDEBAR_LOGO">
            <p:graphicImage value="#{sessionController.mediaPath}/images/logo.png"/>
        </t:div>
        <h:form id="SIDEBAR_MENU">
            <p:commandButton value="#{msgs['NAVIGATION.TEXT.WELCOME']}" action="#{welcomeController.goToAccueilStage}"
                             icon="fa fa-home" styleClass="#{true ? 'customPstage selected' : 'customPstage'}"/>
            <p:commandButton value="#{msgs['MENUSTAGE.GESTIONCENTRE']}" action="#{centreController.goToListeCentre}"
                             rendered="#{sessionController.utilisationStage and (welcomeController.personnel || welcomeController.superAdmin)}"
                             icon="fa fa-gear" styleClass="#{false ? 'customPstage selected' : 'customPstage'}"/>
            <p:panelMenu styleClass="customPstage">
                <p:submenu label="#{msgs['MENUSTAGE.GESTIONCONVENTION']}"
                           rendered="#{sessionController.utilisationStage and (welcomeController.personnel || welcomeController.superAdmin || welcomeController.enseignant)}">
                    <p:menuitem value="#{msgs['MENUSTAGE.RECHCONVENTION']}"
                                action="#{conventionController.goToRechercheConvention}"
                                rendered="#{welcomeController.personnel || welcomeController.superAdmin }"
                                icon="fa fa-search" styleClass="#{false ? 'selected' : ''}"/>
                    <p:menuitem value="#{msgs['MENUSTAGE.CREERCONVENTION']}"
                                action="#{conventionController.goToCreerConvention}"
                                rendered="#{welcomeController.superAdmin || welcomeController.writer || welcomeController.admin}"
                                icon="fa fa-plus" styleClass="#{false ? 'selected' : ''}"/>
                    <p:menuitem value="#{msgs['MENUSTAGE.VALIDERENMASSE']}"
                                action="#{conventionController.goToValiderEnMasse}"
                                rendered="#{welcomeController.superAdmin || welcomeController.writer || welcomeController.admin}"
                                icon="fa fa-check" styleClass="#{false ? 'selected' : ''}"/>
                    <p:menuitem value="#{msgs['MENUSTAGE.RECHCONVENTION.ENSEIGNANTTUTEUR']}"
                                action="#{conventionController.goToRechercheConventionEnseignantTuteur}"
                                rendered="#{welcomeController.enseignantTuteur}" icon="fa fa-check"
                                styleClass="#{false ? 'selected' : ''}"/>
                </p:submenu>
                <p:submenu label="#{msgs['MENUSTAGE.GESTIONCONVENTION']}"
                           rendered="#{sessionController.utilisationStage and welcomeController.etudiant}">
                    <p:menuitem value="#{msgs['MENUSTAGE.RECHCONVENTION.ETU']}"
                                action="#{conventionController.goToRechercheConventionEtu}" icon="fa fa-search"
                                styleClass="#{false ? 'selected' : ''}"/>
                    <p:menuitem value="#{msgs['MENUSTAGE.CREERCONVENTION']}"
                                action="#{conventionController.goToCreerConvention}" icon="fa fa-plus"
                                styleClass="#{false ? 'selected' : ''}"/>
                </p:submenu>
                <p:submenu label="#{msgs['MENUSTAGE.GESTIONETAB']}">
                    <p:menuitem value="#{msgs['MENUSTAGE.RECHETAB']}"
                                action="#{rechercheController.goToRechercheEtablissementStage}" icon="fa fa-search"
                                styleClass="#{false ? 'selected' : ''}">
                        <f:setPropertyActionListener value="#{2}" target="#{rechercheController.ongletCourant}"/>
                        <f:setPropertyActionListener value="#{null}"
                                                     target="#{sessionController.currentManageStructure}"/>
                        <f:setPropertyActionListener value="#{null}" target="#{etablissementController.listeServices}"/>
                        <f:setPropertyActionListener value="#{null}" target="#{etablissementController.listeContacts}"/>
                    </p:menuitem>
                    <p:menuitem value="#{msgs['MENUSTAGE.RECHETAB.AVERIFIER']}"
                                action="#{rechercheController.goToEtablissementsAVerifier}"
                                rendered="#{sessionController.moderationStructures and (welcomeController.superAdmin || welcomeController.writer || welcomeController.admin)}"
                                icon="fa fa-check" styleClass="#{false ? 'selected' : ''}">
                        <f:setPropertyActionListener value="#{2}" target="#{rechercheController.ongletCourant}"/>
                        <f:setPropertyActionListener value="#{null}"
                                                     target="#{sessionController.currentManageStructure}"/>
                        <f:setPropertyActionListener value="#{null}" target="#{etablissementController.listeServices}"/>
                        <f:setPropertyActionListener value="#{null}" target="#{etablissementController.listeContacts}"/>
                    </p:menuitem>
                </p:submenu>
                <p:submenu label="#{msgs['MENUSTAGE.GESTIONOFFRE']}"
                           rendered="#{sessionController.utilisationEntreprise}">
                    <p:menuitem value="#{msgs['MENUSTAGE.RECHOFFRE']}"
                                action="#{offreController.goToRechercheOffreStage}" icon="fa fa-search"
                                styleClass="#{false ? 'selected' : ''}">
                        <f:setPropertyActionListener value="#{null}"
                                                     target="#{sessionController.currentManageStructure}"/>
                        <f:setPropertyActionListener value="#{null}" target="#{etablissementController.listeServices}"/>
                        <f:setPropertyActionListener value="#{null}" target="#{etablissementController.listeContacts}"/>
                    </p:menuitem>
                    <p:menuitem value="#{msgs['MENUSTAGE.AJOUTOFFRE']}"
                                action="#{offreController.goToCreationOffreSelectionCentre}"
                                rendered="#{!welcomeController.etudiant and (welcomeController.superAdmin || welcomeController.writer || welcomeController.admin)}"
                                icon="fa fa-plus" styleClass="#{false ? 'selected' : ''}">
                        <f:setPropertyActionListener value="#{null}"
                                                     target="#{sessionController.currentManageStructure}"/>
                        <f:setPropertyActionListener value="#{null}" target="#{etablissementController.listeServices}"/>
                        <f:setPropertyActionListener value="#{null}" target="#{etablissementController.listeContacts}"/>
                        <f:setPropertyActionListener value="#{3}" target="#{offreController.typeAjoutModifOffre}"/>
                        <f:setPropertyActionListener value="#{2}" target="#{rechercheController.ongletCourant}"/>
                    </p:menuitem>
                    <p:menuitem value="#{msgs['MENU.OFFRESADIFFUSER']}(#{offreController.offreADiffuser})"
                                action="#{offreController.goToOffreADiffuser}"
                                rendered="#{!welcomeController.etudiant and sessionController.moderationActive and (welcomeController.superAdmin || welcomeController.admin || welcomeController.writer)}"
                                icon="fa fa-check" styleClass="#{false ? 'selected' : ''}">
                        <f:setPropertyActionListener value="#{null}"
                                                     target="#{sessionController.currentManageStructure}"/>
                        <f:setPropertyActionListener value="#{null}" target="#{etablissementController.listeServices}"/>
                        <f:setPropertyActionListener value="#{null}" target="#{etablissementController.listeContacts}"/>
                        <f:setPropertyActionListener value="#{3}" target="#{offreController.typeAjoutModifOffre}"/>
                        <f:setPropertyActionListener value="#{2}" target="#{rechercheController.ongletCourant}"/>
                    </p:menuitem>
                </p:submenu>
                <p:submenu label="#{msgs['MENUSTAGE.EVALUATION']}" rendered="#{sessionController.utilisationStage
				and (welcomeController.superAdmin
						|| not empty sessionController.droitsEvaluationEtudiantMap
						|| not empty sessionController.droitsEvaluationEnseignantMap
						|| not empty sessionController.droitsEvaluationEntrepriseMap
						|| welcomeController.enseignantTuteur
						|| welcomeController.etudiant)}">
                    <p:menuitem value="#{msgs['RECHERCHEEVALUATION.TITRE']}"
                                action="#{evaluationController.goToRechercheEval}" rendered="#{welcomeController.superAdmin
					|| not empty sessionController.droitsEvaluationEtudiantMap
					|| not empty sessionController.droitsEvaluationEnseignantMap
                    || not empty sessionController.droitsEvaluationEntrepriseMap}" icon="fa fa-search"
                                styleClass="#{false ? 'selected' : ''}"/>
                    <p:menuitem value="#{msgs['MENUSTAGE.EVALUATION.VISUALISER']}"
                                action="#{evaluationController.goToRechercheEvalEns}"
                                rendered="#{welcomeController.enseignantTuteur}" icon="fa fa-search"
                                styleClass="#{false ? 'selected' : ''}"/>
                    <p:menuitem value="#{msgs['MENUSTAGE.EVALUATION.VISUALISER']}"
                                action="#{evaluationController.goToRechercheEvalEtu}"
                                rendered="#{welcomeController.etudiant}" icon="fa fa-search"
                                styleClass="#{false ? 'selected' : ''}"/>
                </p:submenu>
            </p:panelMenu>
            <p:commandButton value="#{msgs['MENU.GESTIONNOMENCLATURES']}"
                             action="#{nomenclatureController.goToGestionNomenclatures}"
                             rendered="#{welcomeController.superAdmin}" icon="fa fa-table"
                             styleClass="#{false ? 'customPstage selected' : 'customPstage'}"/>
            <p:commandButton value="Déconnexion" styleClass="customPstage phoneOnly" action="#{sessionController.logout}"
                             rendered="#{sessionController.printLogout}" icon="fa fa-power-off"/>
        </h:form>
    </t:div>
</ui:composition>